# To edit this file: https://docs.wandb.ai/guides/sweeps/define-sweep-configuration

entity: gcnssdvae
project: sem1

program: src/train.py
method: bayes
metric:
  name: valid/corr
  goal: maximize
parameters:
  lr:
    values: [0.0001, 0.0003, 0.00001, 0.000001]
  model_name:
    values: ["sentence-transformers/all-roberta-large-v1", "sentence-transformers/sentence-t5-large", "sentence-transformers/gtr-t5-large", "bert-large-uncased", "roberta-large", "facebook/bart-large", "t5-large"]
  weight_decay:
    values: [0.0, 0.1, 0.01, 0.001, 0.0001]
  enc_dropout:
    values: [0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9]
  accumulate_grad_batches:
    values: [-1, 32, 64, 128, 256]
command:
  - ${env}
  - ${interpreter}
  - ${program}
  - ${args}
  - --exp_name=sweep
  - --batch_size=8
  - --enc_pooling=mean
  - --validate_every=1.0
  - --ddp



# need 4 gpus to make batch size of 32